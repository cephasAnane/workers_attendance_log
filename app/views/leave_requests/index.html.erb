<div class="container mx-auto px-4 py-8">
  <div class="flex justify-between items-center mb-6">
    <h2 class="text-2xl font-bold text-white">My Leave Requests</h2>
    <%= link_to "New Request", new_leave_request_path, class: "bg-green-600 text-white px-4 py-2 rounded hover:bg-green-500 transition shadow-lg" %>
  </div>

  <div class="bg-gray-800 shadow-lg rounded-lg overflow-hidden border border-gray-700">
    <div class="px-4 py-2 bg-gray-900 md:hidden text-right text-xs text-gray-500">
      Swipe table &rarr;
    </div>
    
    <div class="overflow-x-auto">
      <table class="min-w-full divide-y divide-gray-700">
        <thead class="bg-gray-900">
          <tr>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase whitespace-nowrap">Type</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase whitespace-nowrap">Dates</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase whitespace-nowrap">Reason</th>
            <th class="px-6 py-3 text-center text-xs font-medium text-gray-400 uppercase whitespace-nowrap">Status</th>
          </tr>
        </thead>
        <tbody class="divide-y divide-gray-700">
          <% @leave_requests.each do |req| %>
            <tr class="hover:bg-gray-700 transition">
              <td class="px-6 py-4 text-white capitalize font-medium whitespace-nowrap"><%= req.leave_type %></td>
              <td class="px-6 py-4 text-gray-300 text-sm whitespace-nowrap">
                <%= req.start_date.strftime("%b %d") %> - <%= req.end_date.strftime("%b %d, %Y") %>
                <span class="text-gray-500 text-xs ml-1">(<%= req.duration %> days)</span>
              </td>
              <td class="px-6 py-4 text-gray-400 text-sm min-w-[200px]"><%= req.reason %></td>
              <td class="px-6 py-4 text-center whitespace-nowrap">
                <% color = case req.status; when 'approved' then 'bg-green-900 text-green-200 border-green-700'; when 'rejected' then 'bg-red-900 text-red-200 border-red-700'; else 'bg-yellow-900 text-yellow-200 border-yellow-700'; end %>
                <span class="<%= color %> border px-2 py-1 text-xs font-semibold rounded-full capitalize">
                  <%= req.status %>
                </span>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>